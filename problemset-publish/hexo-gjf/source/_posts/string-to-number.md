---
title: 把字符串转换成整数
categories:
  - 算法题集
tags:
  - 类型转换
date: 2019-12-23 23:11:19
---
## 题目描述
将一个字符串转换成一个整数(实现Integer.valueOf(string)的功能，但是string不符合数字要求时返回0)，要求不能使用字符串转换整数的库函数。 数值为0或者字符串不是一个合法的数值则返回0。
#### 输入描述:
输入一个字符串,包括数字字母符号,可以为空
#### 输出描述:
如果是合法的数值表达则返回该数字，否则返回0
示例1
#### 输入
```
+2147483647
    1a33
```
#### 输出
```
2147483647
    0
```

### 思路分析
- 字符串遍历，完成：、
    - 符号记录
    - 数字转换
    - 非法判断
    - 结果返回
```C++
class Solution {
public:
    int StrToInt(string str) {
        int num = 0;
        // 符号记录
        int i = (str[0] == '-' || str[0] == '+')?1:0;
        // 数字转换
        for (;i < str.length();++i){
            if (str[i] <= '9' && str[i] >= '0') {
                num += str[i] - '0';
                if (i != str.length() -1){
                    num *= 10;
                }
            } else {// 非法字符直接返回0
                return 0;
            }
        }
        return str[0] == '-'?-num:num;
    }
};
```